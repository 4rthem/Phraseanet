<?php

namespace Repositories;

use Doctrine\ORM\EntityRepository;

/**
 * StoryWZRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class StoryWZRepository extends EntityRepository
{

  public function findByUser(\User_Adapter $user)
  {
    return $this->findBy(array('usr_id' => $user->get_id()));
  }

  public function findUserStory(\User_Adapter $user, \record_adapter $Story)
  {
    return $this->findOneBy(
                    array(
                        'usr_id' => $user->get_id(),
                        'sbas_id' => $Story->get_sbas_id(),
                        'record_id' => $Story->get_record_id(),
                    )
    );
  }

}